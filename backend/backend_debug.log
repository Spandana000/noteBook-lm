2026-02-11 10:11:01,701 - INFO - Uploading file: dummy.txt
2026-02-11 10:11:02,099 - ERROR - Error uploading file: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.', 'status': 'NOT_FOUND'}}
2026-02-11 10:11:02,115 - ERROR - Traceback (most recent call last):
  File "C:\Users\N.SPANDANA\OneDrive\Desktop\Lumina\backend\main.py", line 44, in upload_document
    await rag_service.process_file(file)
  File "C:\Users\N.SPANDANA\OneDrive\Desktop\Lumina\backend\services\rag_service.py", line 100, in process_file
    raise e
  File "C:\Users\N.SPANDANA\OneDrive\Desktop\Lumina\backend\services\rag_service.py", line 90, in process_file
    res = self.google_client.models.embed_content(model="text-embedding-004", contents=chunk)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\google\genai\models.py", line 4191, in embed_content
    response = self._api_client.request(
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\google\genai\_api_client.py", line 1386, in request
    response = self._request(http_request, http_options, stream=False)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\google\genai\_api_client.py", line 1222, in _request
    return self._retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\tenacity\__init__.py", line 477, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\tenacity\__init__.py", line 378, in iter
    result = action(retry_state)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\tenacity\__init__.py", line 420, in exc_check
    raise retry_exc.reraise()
          ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\tenacity\__init__.py", line 187, in reraise
    raise self.last_attempt.result()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\concurrent\futures\_base.py", line 401, in __get_result
    raise self._exception
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\tenacity\__init__.py", line 480, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\google\genai\_api_client.py", line 1199, in _request_once
    errors.APIError.raise_for_response(response)
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\google\genai\errors.py", line 121, in raise_for_response
    cls.raise_error(response.status_code, response_json, response)
  File "C:\Users\N.SPANDANA\AppData\Local\Programs\Python\Python311\Lib\site-packages\google\genai\errors.py", line 146, in raise_error
    raise ClientError(status_code, response_json, response)
google.genai.errors.ClientError: 404 NOT_FOUND. {'error': {'code': 404, 'message': 'models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.', 'status': 'NOT_FOUND'}}

2026-02-11 10:14:01,273 - INFO - Uploading file: 9-cloud-computing.pdf
2026-02-11 10:16:08,919 - INFO - Uploading file: images.jpg
